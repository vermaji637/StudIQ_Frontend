<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Profile</title>
  <link rel="stylesheet" href="../../css/userdashboard/editprofile.css" />
</head>
<body>
  <div class="profile-form card">
    <h2>Create Profile</h2>
    <form method="POST" enctype="multipart/form-data">
      <!-- Role -->
      <label for="role">Role:</label>
      <select id="role" name="role" required>
        <option value="">-- Select Role --</option>
        <option value="owner">Owner</option>
        <option value="admin">Admin</option>
        <option value="agent">Agent</option>
        <option value="user">User</option>
      </select>

      <!-- First & Last Name -->
      <label for="first_name">First Name:</label>
      <input type="text" id="first_name" name="first_name" required>

      <label for="last_name">Last Name:</label>
      <input type="text" id="last_name" name="last_name" required>

      <!-- State & District -->
      <label for="state">State:</label>
      <select id="state" name="state" required>
        <option value="">-- Select State --</option>
        <option>Arunachal Pradesh</option>
        
        <!-- Add more states -->
      </select>

      <label for="district">District:</label>
      <select id="district" name="district" required>
        <option value="">-- Select District --</option>

      </select>

      <!-- Address & City -->
      <label for="address">Address:</label>
      <input type="text" id="address" name="address" required>

      <label for="city">City:</label>
      <input type="text" id="city" name="city" required>
      
      <!-- Profile Picture -->
      <label for="profile_picture">Profile Picture:</label>
      <input type="file" id="profile_picture" name="profile_picture">

      <!-- Role-based Fields -->
      <div id="hostel_college_field" class="dynamic-field">
        <label for="hostel_college">Hostel/College Name:</label>
        <input type="text" id="hostel_college" name="hostel_college">
      </div>

      <div id="experience_field" class="dynamic-field">
        <label for="experience">Experience (years):</label>
        <input type="number" id="experience" name="experience">
      </div>

      <!-- DOB & Aadhar -->
      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" name="dob">

      <label for="aadhar_number">Aadhar Number:</label>
      <input type="text" id="aadhar_number" name="aadhar_number" maxlength="12">

      <!-- Extra Info -->
      <label for="extra_info">Extra Info:</label>
      <textarea id="extra_info" name="extra_info"></textarea>

      <!-- Submit Button -->
      <button type="submit" class="btn">Submit</button>
    </form>
  </div>

  <script>
    // Role-based dynamic fields
    const roleSelect = document.getElementById("role");
    const hostelField = document.getElementById("hostel_college_field");
    const experienceField = document.getElementById("experience_field");

    roleSelect.addEventListener("change", function () {
      const role = this.value;
      hostelField.style.display = (role === "owner") ? "block" : "none";
      experienceField.style.display = (role === "agent") ? "block" : "none";
    });

    // State â†’ District mapping
    const stateDistricts = {
     "Arunachal Pradesh": ["Anjaw","Changlang","Dibang Valley","East Kameng","East Siang","Kamle","Kra Daadi",
            "Kurung Kumey","Lepa Rada","Lohit","Longding","Lower Dibang Valley","Lower Siang","Lower Subansiri","Namsai",
            "Papum Pare","Shi Yomi","Tawang","Tirap","Upper Siang","Upper Subansiri","West Kameng","West Siang"],

    };

    const stateSelect = document.getElementById("state");
    const districtSelect = document.getElementById("district");

    stateSelect.addEventListener("change", function() {
      const state = this.value;
      districtSelect.innerHTML = '<option value="">-- Select District --</option>';

      if(state && stateDistricts[state]) {
        stateDistricts[state].forEach(district => {
          const option = document.createElement("option");
          option.value = district;
          option.textContent = district;
          districtSelect.appendChild(option);
        });
      }
    });
  </script>
</body>
</html>
